{% extends "core/base.html" %}
{% load crispy_forms_tags %}

{% block content %}
<div class="container mt-5">
  <h2 class="text-success fw-bold mb-3">Mi Cuenta</h2>
  <p class="mb-4">Gestiona tus datos y mant√©n tu perfil actualizado üìù</p>

  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-success">{{ message }}</div>
    {% endfor %}
  {% endif %}

  <div class="row justify-content-center">
    <div class="col-md-8 mb-4">
      <div class="card shadow-sm border-success h-100">
        <div class="card-header bg-success text-white">
          <i class="bi bi-person-circle me-2"></i> Perfil Completo
        </div>
        <div class="card-body">
          <form method="post">
            {% csrf_token %}
            <!-- Campos fijos -->
            {{ user_form.username|as_crispy_field }}
{{ user_form.email|as_crispy_field }}
{{ perfil_form.rut|as_crispy_field }}
{{ perfil_form.nombre_empresa|as_crispy_field }}
{{ perfil_form.telefono|as_crispy_field }}
{{ perfil_form.direccion|as_crispy_field }}

            <button type="submit" class="btn btn-success w-100 mt-3">
              <i class="bi bi-check-circle me-2"></i> Actualizar Perfil
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .card-header { font-size: 1.2rem; }
  .card { border-radius: 12px; }
  .btn-success { font-weight: bold; }
  .form-control-plaintext { background-color: #f8f9fa; }
</style>
{% endblock %}
